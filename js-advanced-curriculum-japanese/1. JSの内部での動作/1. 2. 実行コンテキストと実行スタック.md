

# **実行コンテキストと実行スタック**

このレッスンでは、コードの実行順序に焦点を当てます。そのためには、実行コンテキストについて理解する必要があります。すべてのJavaScriptコードは環境で実行する必要があり、これらの環境は実行コンテキストと呼ばれます。変数と、評価および実行されるコードの一部を格納するコンテナのような実行コンテキストをイメージしてください。

デフォルトの実行コンテキストは常に``グローバルコンテキスト``です。グローバルコンテキストでは、関数内にないすべてのコードが実行されます。つまり、グローバルコンテキストは関数外の変数や関数のためのものです。
実行コンテキストを``オブジェクト``と考えることができます。グローバルコンテキストは``グローバルオブジェクト``に関連付けられています。これはブラウザの場合は``ウィンドウオブジェクト``です。したがって、グローバルコンテキストで宣言するすべてのものは、ブラウザーの `window`オブジェクトに自動的にアタッチされます。 `myName`と`window.myName`という変数を宣言することもまったく同じです。

### **関数内のコードについて**

関数を呼び出すたびに、独自の真新しい実行コンテキストを取得します。

### **例：**


```js
const name = "John Doe";

// これはどの機能にもありません。つまり、これはグローバルコンテキストにあります。
function sayHi() {
  const greeting = "Hi"; // 2. 最初の実行コンテキストに保存されます
  sayHello(); // 3. Creates the second execution context
  console.log(`${greeting} ${name}`); // 9. 2番目のコンテキストが完了してから
  // このコンテキストに戻り、これを最初の実行コンテキストに記録します

  // この関数では他に何も発生しないため、この実行コンテキストは完了し、スタックから削除されます
}

// これはどの機能にもありません。つまり、これはグローバルコンテキストにあります。
function sayHello() {
  const greeting = "Hello"; // 4. 2番目の実行コンテキストに保存
  sayHowdy(); // 5. 3番目の実行コンテキストを作成します
  console.log(`${greeting} ${name}`); // 8. 3番目のコンテキストが完了してから
  // このコンテキストに戻り、これを最初の実行コンテキストに記録します

  // この関数では他に何も発生しないため、この実行コンテキストは完了し、スタックから削除されます
}

// これはどの機能にもありません。つまり、これはグローバルコンテキストにあります。
function sayHowdy() {
  const greeting = "Howdy"; // 6. 3番目の実行コンテキストに保存
  console.log(`${greeting} ${name}`); //7. これを3番目の実行コンテキストに記録します

  // この関数では他に何も発生しないため、この実行コンテキストは完了し、スタックから削除されます
}

sayHi(); // 1. 最初の実行コンテキストを作成します
```
