# **Proxy**

> A Proxy wraps objects and intercepts their behavior through traps

Among several ways we can do Meta programming in JavaScript, usage of the Proxy object is one of the most
important ones. The Proxy object is an `ES6` concept used to define custom behavior for fundamental operations, for example,
property lookup, assignment, enumeration, function invocations, etc.

Some of the useful terms we need to remember and use:

- target: An Object which the proxy virtualizes
- handler: A Placeholder Object which contains traps
- trap: The Methods that provide property access of the target object

Here is how we create a Proxy Object:

```js
const proxy = new Proxy(target, handler);
```

And lets create a `person` object and print some of its properties:

```js
const person = {
  firstName: "John",
  lastName: "Doe"
};

console.log(`Person:
  First name: ${person.firstName}
  Last name: ${person.lastName}
  Age: ${person.age}
  Full name: ${person.fullName}
`);

/*
  expected output:
    Person:
      First name: John
      Last name: Doe
      Age: undefined
      Full name: undefined
*/
```

Now lets use the Proxy object to alter this program of `person` handling and provide some behavior to it.
First we need to create a handler, and we will be using a `trap` called `get`:

```js
const handler = {
  get(target, fieldName) {
    if (fieldName === "fullName") {
      return `${target.firstName} ${target.lastName}`;
    }

    return fieldName in target ? target[fieldName] : `No ${fieldName} property`;
  }
};
```

This handler helps to create the value for `fullName`, it also adds a better error message in case we are dealing with
a missing property.

Now we need to create a proxy and set `person` as the target:

```js
const proxy = new Proxy(person, handler);
```

The result:

```js
const handler = {
  get(target, fieldName) {
    if (fieldName === "fullName") {
      return `${target.firstName} ${target.lastName}`;
    }

    return fieldName in target ? target[fieldName] : `No ${fieldName} property`;
  }
};

const person = {
  firstName: "John",
  lastName: "Doe"
};

const personProxy = new Proxy(person, handler);

console.log(`Person:
  First name: ${personProxy.firstName}
  Last name: ${personProxy.lastName}
  Age: ${personProxy.age}
  Full name: ${personProxy.fullName}
`);

/*
  expected output:
    Person:
      First name: John
      Last name: Doe
      Age: No age property
      Full name: John Doe
*/
```

Proxies are a very powerful concept, there are several use-cases where this concept can be used, here are a few:

- Protect ID field from deletion (trap: deleteProperty)
- Tracing property Accesses (trap: get, set)
- Data binding (trap: set)

And many more!