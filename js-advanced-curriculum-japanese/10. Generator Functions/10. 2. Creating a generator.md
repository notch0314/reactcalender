# **Creating a Generator**

Let's see how we can create generators in JavaScript:

```js
function* generatorFunction(name) {
  console.log("First step");
  yield "Hello";

  console.log("I will be printed after the pause");
  yield name;
}

const generatorObject = generatorFunction("John");

console.log(generatorObject.next().value);
console.log(generatorObject.next().value);
console.log(generatorObject.next().value);

/*
  expected output:
    First Step
    Hello
    I will be printed after the pause
    John
    undefined
*/
```

For creating a generator function, we can use the `function*` syntax instead of just function. Any number of spaces
can exist between the `function` keyword, the `*` and the function name.

Inside the function body, we don't have a `return` keyword, instead, we have another keyword: `yield`. It's an operator
with which a generator can pause itself. Every time a generator encounters a `yield`, it "returns" the value specified
after it. In this case, "Hello" and "John", but we don't say "returned" in the context of generators, we say "the generator
has yielded Hello"

We can also return from a generator, but this will set `done` to true, after which the generator cannot generate any more
values.

```js
function* generatorFunction() {
  yield 1;
  return 2; // Generator ends here
  yield 3; // This will never be executed
}
```

You can see that we invoked the generator function with this:

```js
const generatorObject = generatorFunction("John");
```

The difference is that this will always return a `generator object`, which is an iterator. We can use it in `for-of` loops
or other functions accepting an iterator.

In the lines where we wrote:

```js
console.log(generatorObject.next().value);
```

We call the `next()` method on the generator object, with this call, the generator begins executing.
First it will log `First Step`, then it encounters a `yield "Hello"`.

The generator yields the value as an object:

```js
{
  value: "Hello",
  done: false
}
```

And suspends, waiting for the `next` invocation. This happens until it the value is `undefined`, this happens because
every function implicitly returns `undefined` if no return statement is provided. The generator returns (instead of yielding)
this object:

```js
{
  value: undefined,
  done: true
}
```

The `done` is set to true, this signals the end of the generator and it won't generator more values or resume again since
there are no more statements to be executed.
